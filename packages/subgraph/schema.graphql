type Union @entity {
  id: Bytes!
  name: String!
  logo: String!
  description: String!
  votingAddress: Bytes!
  users: [UserRole!]! @derivedFrom(field: "union")
  proposals: [Proposal!]! @derivedFrom(field: "union")
}

type UserRole @entity {
  id: Bytes!
  union: Union!
  user: User!
  isMember: Boolean!
  isAdmin: Boolean!
}

type User @entity {
  id: Bytes!
  name: String!
  roles: [UserRole!]! @derivedFrom(field: "user")
}

type Proposal @entity {
  id: Bytes!
  union: Union!
  numOptions: Int!
  metadata: ProposalMetadata
}

type ProposalMetadata @entity {
  id: String!
  description: String!
  options: [ProposalMetadataOption!]! @derivedFrom(field: "proposal")
}

type ProposalMetadataOption @entity {
  id: String!
  proposal: ProposalMetadata!
  description: String!
}
